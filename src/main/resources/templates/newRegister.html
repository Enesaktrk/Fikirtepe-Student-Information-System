<!DOCTYPE html>
<html lang="tr">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Kayıt Formu </title>

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> -->

    <!-- Icons font CSS-->
    <link href="registration/vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="registration/vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="registration/vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="registration/vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="registration/css/main.css" rel="stylesheet" media="all">

</head>

<body>
    <div class="page-wrapper bg-gra-03 p-t-45 p-b-50">
        <div class="wrapper wrapper--w790">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Fikirtepe Öğrenci Kayıt Formu </h2>
                </div>
                <div class="card-body">
                    <form onsubmit='return onSubmit(this)'>
                        <div class = "user-title-container">
                            <!-- <h class = "user-title"> Öğrencinin </h> -->
                        </div>
                        <div class="form-row m-b-55">
                            <div class="name">Adı-Soyadı</div>
                            <div class="value">
                                <div class="row row-space">
                                    <div class="col-2">
                                        <div class="input-group-desc">
                                            <label>
                                                <input class="input--style-5" type="text" name="first_name">
                                            </label>
                                            <label class="label--desc"> Adı </label>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <div class="input-group-desc">
                                            <label>
                                                <input class="input--style-5" type="text" name="last_name">
                                            </label>
                                            <label class="label--desc">Soyadı </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">T.C Kimlik Numarası </div>
                            <div class="value">
                                <div class="input-group">
                                    <label>
                                        <input class="input--style-5" type="text" name="Tc-kimlik-no">
                                    </label>
                                </div>
                            </div>
                        </div>


                        <div class="form-row">
                            <div class="name">Email</div>
                            <div class="value">
                                <div class="input-group">
                                    <label>
                                        <input class="input--style-5" type="email" name="email">
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row m-b-55">
                            <div class="name">Telefon Numarası</div>
                            <div class="value">
                                <div class="row row-refine">
                                    <div class="col-3">
                                        <div class="input-group-desc">
                                            <label>
                                                <input class="input--style-5" type="text" name="area_code">
                                            </label>
                                            <label class="label--desc">Alan Kodu </label>
                                        </div>
                                    </div>
                                    <div class="col-9">
                                        <div class="input-group-desc">
                                            <label>
                                                <input class="input--style-5" type="text" name="phone">
                                            </label>
                                            <label class="label--desc">Telefon Numarası </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Sınıf </div>
                            <div class="value">
                                <div class="input-group">
                                    <div class="rs-select2 js-select-simple select--no-search">
                                        <label>
                                            <select name="subject">
                                                <option disabled="disabled" selected="selected">Sınıf Seçiniz </option>
                                                <option> 9. Sınıf </option>
                                                <option> 10. Sınıf </option>
                                                <option> 11. Sınıf </option>
                                                <option> 12. Sınıf </option>
                                            </select>
                                        </label>
                                        <div class="select-dropdown"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="name"> EA / SAY? </div>
                            <div class="value">
                                <div class="input-group">
                                    <div class="rs-select2 js-select-simple select--no-search">
                                        <label>
                                            <select name="subject">
                                                <option disabled="disabled" selected="selected">Bölüm Seçiniz </option>
                                                <option> Eşit Ağırlık </option>
                                                <option> Sayısal </option>
                                            </select>
                                        </label>
                                        <div class="select-dropdown"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                          <div class="name"> Okul </div>
                          <div class="value">
                            <div class="input-group">
                              <label>
                                <input class="input--style-5" type="text" name="ders">
                              </label>
                            </div>
                          </div>
                        </div>

                        <div class="form-row">
                            <div class = "name"> İl - İlçe </div>
                            <div class="il-ilce-container" style = "display: flex;">
                                <div class="col-md-3" style = "text-align:center;">
                                    <label for="il"></label>
                                    <select name="il" id="il" class = "form-control">
                                        <option value="">İl Seçiniz</option>
                                    </select>
                                </div>

                                <div class="col-md-3">
                                    <label for="ilce"></label>
                                    <select name="ilce" id="ilce" class="form-control" disabled="disabled">
                                        <option value="">İlçe Seçiniz</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!--creates districts of the provinces dynamically with jquery from json file-->
                        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
                        <script>
                            $.getJSON("json/iller.json", function(result){
                                $.each(result, function(index, value){
                                    let row = "";
                                    row +='<option value="'+value.il+'">'+value.il+'</option>';
                                    $("#il").append(row);
                                })
                            });

                            $("#il").change(function(){
                                const il = $(this).val();
                                console.log('i am in change');
                                $("#ilce").attr("disabled", false).html("<option value=''>İlçe Seçiniz</option>");
                                $.getJSON("json/ilceler.json", function(result){
                                    $.each(result, function(index, value){
                                        // console.log("second result" , result);
                                        let row = "";
                                        if(value.il===il)
                                        {
                                            row +='<option value="'+value.ilce+'">'+value.ilce+'</option>';
                                            $("#ilce").append(row);
                                        }
                                    });
                                });
                            });

                        </script>

                        <div class="form-row">
                                <div class="name"> Adres </div>
                                <div class="value">
                                        <div class="input-group">
                                            <label>
                                                <input class="input--style-5" type="text" name="ders">
                                            </label>
                                        </div>
                                </div>
                        </div>

                        <div class="form-row">
                                <div class="name"> Öğrenci dersi nasıl izleyecek? </div>
                                <div class="value">
                                        <div class="input-group">
                                            <label>
                                                <input class="input--style-5" type="text" name="ders">
                                            </label>
                                        </div>
                                </div>
                        </div>
                        <div class="form-row p-t-20">
                            <label class="label label--block">Evinizde internet var mı?</label>
                            <div class="p-t-15">
                                <label class="radio-container m-r-55">Evet
                                    <input type="radio" checked="checked" name="exist">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="radio-container">Hayır
                                    <input type="radio" name="exist">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <button id = "register-button" class="btn btn--radius-2 btn--red" type = "submit">KAYIT OL </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <script>
        const onSubmit = (form) => {
            const formData = JSON.stringify($(form).serializeArray());
            const xhr = new XMLHttpRequest();
            const url = "/api/register";
            xhr.open("POST",url,true);
            xhr.setRequestHeader("Content-Type", "application/json");
            console.log(formData);
            xhr.send(formData);
        }
    </script>
    <!-- Jquery JS-->
    <script src="registration/vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="registration/vendor/select2/select2.min.js"></script>
    <script src="registration/vendor/datepicker/moment.min.js"></script>

    <!-- Main JS-->
    <script src="/registration/js/global.js"></script>

</body>

</html>
<!-- end document-->
